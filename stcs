
getgenv().set = {
	aim = {
		toggle = true,
		radius = 5,
		wiggleSpeed = 5
	},
	
	amp = {
		toggle = false,
		hitall = false,
		damage = 5
	},
	
	hitbox = {
		toggle = false,
		transparency = 0.7,
		size = 5
	}
}

local RunService = game:GetService("RunService")
local Players = game:GetService("Players")

local player = Players.LocalPlayer
local camera = workspace.CurrentCamera

local zone = workspace.Terrain.Spawn:FindFirstChild("SafePlate")
local ZonePos = zone.Position
local ZoneSize = zone.Size
local area = Vector3.new(ZoneSize.X, 0, ZoneSize.Z) / 2

local XZ = {
	minX = ZonePos.X - area.X,
	maxX = ZonePos.X + area.X,
	minZ = ZonePos.Z - area.Z,
	maxZ = ZonePos.Z + area.Z
}


local UpdateCamAim = function()
	if not set.aim.toggle then return end
	print(set.aim.toggle)
	
	local character = player.Character
	local rootpart = character and character:FindFirstChild("HumanoidRootPart")
	if not character or not rootpart then return end
	
	local position = rootpart.Position
	if position.X >= XZ.minX and position.X <= XZ.maxX and position.Z >= XZ.minZ and position.Z <= XZ.maxZ then return end
	
	for _, Player in pairs(Players:GetPlayers()) do
		if Player.Name == player.Name then return end
		print("eeeeee")
		local otherchar = Player.Character
		local otherroot = otherchar and otherchar:FindFirstChild("HumanoidRootPart")
		print("eeee")
		local RightArm = otherchar and otherchar:FindFirstChild("Right Arm")
		if not otherchar or not otherroot or not RightArm then return end
		print("eee")
		local distance = (otherroot.Position - rootpart.Position).Magnitude
		print("ee")
		
		if distance <= set.aim.radius then 
			local direction = Vector3.new(RightArm.Position.X - otherroot.Position.X, 0, RightArm.Position.Z - otherroot.Position.Z).Unit
			local NewCFrame = CFrame.new(camera.Position, rootpart.Position + direction)
			print("runnin")
			
			camera.CFrame = NewCFrame
		end
	end
end

RunService.Heartbeat:Connect(function()
	UpdateCamAim()
end)
